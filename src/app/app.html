<main>
  <h3>ğŸ½ï¸ AI Menu Generator</h3>

  <div class="model-selector">
    <label for="model">AI Model</label>
    <select id="model" [(ngModel)]="selectedModel">
      <option value="gemini">ğŸ¤– Google Gemini 2.5 Flash</option>
      <option value="ollama">ğŸ¦™ Ollama Granite4-Tiny-H</option>
    </select>
  </div>

  <div class="theme-input">
    <label for="theme">Restaurant Theme</label>
    <input
      type="text"
      id="theme"
      [(ngModel)]="menuInput"
      placeholder="e.g., Italian, Japanese, Fusion..."
    />
  </div>

  <div class="button-group">
    <button (click)="generateMenuItem()" [disabled]="isGenerating() || isStreaming()">
      @if (isGenerating()) {
      <span>Generating...</span>
      } @else {
      <span>âœ¨ Generate</span>
      }
    </button>
    <button (click)="streamMenuItem()" [disabled]="isGenerating() || isStreaming()">
      @if (isStreaming()) {
      <span>Streaming...</span>
      } @else {
      <span>âš¡ Stream Generation</span>
      }
    </button>
  </div>

  @if (isStreaming() || isGenerating()) {
  <div class="loading-container">
    <div class="spinner"></div>
    <div class="loading-text">
      @if (isStreaming()) {
      <span>Streaming your menu item...</span>
      } @else {
      <span>Creating magic...</span>
      }
    </div>
  </div>
  } @if (streamedText() && !isGenerating()) {
  <div class="result-container">
    <h4>Streaming Output</h4>
    <div class="result-content streaming-content">{{ streamedText() }}</div>
  </div>
  } @else if (generatedMenuItem() && !streamedText()) {
  <div class="result-container">
    <h4>Generated Menu Item</h4>
    <div class="result-content">{{ generatedMenuItem() }}</div>
  </div>
  }
</main>
