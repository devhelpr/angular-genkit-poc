<main>
  <h3>Generate a custom menu item</h3>

  <div>
    <label for="model">Select AI Model: </label>
    <select id="model" [(ngModel)]="selectedModel">
      <option value="gemini">Google Gemini 2.5 Flash</option>
      <option value="ollama">Ollama Granite4-Tiny-H</option>
    </select>
  </div>
  <br />

  <label for="theme">Suggest a menu item for a restaurant with this theme: </label>
  <input type="text" id="theme" [(ngModel)]="menuInput" />
  <br />
  <br />
  <button (click)="generateMenuItem()" [disabled]="isGenerating() || isStreaming()">
    Generate
  </button>
  <button (click)="streamMenuItem()" [disabled]="isGenerating() || isStreaming()">
    Stream Generation
  </button>
  <br />

  @if (isStreaming()) {
  <div>Streaming...</div>
  } @else if (isGenerating()) {
  <div>Loading...</div>
  } @if (streamedText() && !isGenerating()) {
  <div>
    <h4>Streaming Output:</h4>
    <pre>{{ streamedText() }}</pre>
  </div>
  } @else if (generatedMenuItem() && !streamedText()) {
  <div>
    <h4>Generated Menu Item:</h4>
    <pre>{{ generatedMenuItem() }}</pre>
  </div>
  }
</main>
